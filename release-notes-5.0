HTML header: <title>dCache 5.0 Release Notes</title>
             <!--#include virtual="/template/default-head.shtml" -->
             <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
             <!-- Bootstrap -->
             <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
                   integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>
             <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
                   integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous"/>
             <!--link type="text/css" rel="stylesheet" href="jquery.tocify.css" /-->
             <style type="text/css">
             h5 {
                 font-size: 15px;
                 font-style: italic;
                 margin-top: 20px;
             }
             body {
                 padding-top: 20px;
             }
             @media (max-width: 767px) {
                 #toc {
                     position: relative;
                     width: 100%;
                     margin: 0px 0px 20px 0px;
                 }
             }
             @media print {
                 #toc {
                     display: none;
                 }
             }
             </style>

<div class="container">
<div id="banner">
   <div id="bird_large">
      <img src="/images/dcache-banner.png" class="bird"></img>
   </div>
   <div id="sidebar-b">
      <span class="dcache-nav-bar">
      <a href="/index.shtml">home</a>
      |
      <a href="/news.shtml">news</a>
      |
      <a href="/manuals/index.shtml">documentation</a>
      |
      <a href="/downloads/IAgree.shtml">downloads</a>
      |
      <a href="/feedback.shtml">feedback</a>
      |
      <a href="/manuals/googlesearch.shtml">search</a>
      |
      <a href="/imprint.shtml">imprint&#160;</a>
      </span>
   </div>
</div>
<div id="content">

<div class="row">

<div class="page-header">
<h1>What's new in dCache 4.2<br/>
<small>Release notes</small></h1>
</div>

## Highlights

 - pinboard includes date and time
 - updated external dependencies

## Incompatibilities
This release breaks compatibility with pools running dcache version 2.16 or earlier.

## Acknowledgments
We thank HTW-Berlin students Marcel Munce, Ferdinand Wolff and MaKrHTW (???) as well
as Onno Zweers from surfSARA for their contributions.

## Release 5.0.0

### Admin

### Alarms

A bug impeding reception of email alarms when the XML database is used has been fixed.

### Billing

### Cleaner

### DCAP

### Frontend

### FTP

### gplazma

### History

### Hoppingmanager

### httpd

### Info

### Missing Files

### NFS

When pNFS client uses flex_file layout IO errors with pool (data server) are reported to NFS door. The erros can be interpreted
as:
```
  NFS4ERR_NXIO:  The client was unable to establish any communication
      with the storage device.

   NFS4ERR_*:  The client was able to establish communication with the
      storage device and is returning one of the allowed error codes.
```
### Pinmanager

### PNFS Manager

### Pool

### Poolmanager

### Resilience

Bugs which have been fixed:  (1) an error is no longer reported when trying to handle a broken file which has 
already been unlinked; (2) the entire pool scan no longer fails when one file in the list is not resilient 
or has no locations; (3) filters referencing invalid pool names no longer cause scan cancel to fail.

Improved features:  (1) command ``retry errors`` immediately reprocesses the most recent failed file operations; 
(2) the command ``pool ls`` now displays the number of file operation errors encountered during a given scan;
(3) the list of pools is now sorted by STATE (RUNNING, WAITING, IDLE) and then by pool name in ascending 
lexicographic order; (4) the ``inaccessible`` command now has options to check the status of the job, 
to display the current contents of the 'inaccessible list' file for that pool, and to clean up/delete that file; 
(5) 'referring pool' has been added to the inaccessible alarm to enable grep'ing the resilience log for 
a given scanned pool.

### Space Manager

### SRM

### SRM Manager

### Statistics

### Topo

### Transfer Managers

### WebDAV

### XRootD

Third-party copy was introduced in 4.2, and continues to be improved.  For further information on configuration,
please refer to the documentation in _The Book_ (5.0).

Bug fixes and improvements:  (1) the correct error (kXR_NoSpace) is now returned to the client when there is no more disk space;
(2) xrootd now fails fast if the MaxUploadSize is supplied, and the file is too large; (3) the xrootd door spring configuration
no longer fails to load when kafka is not activated; (4) the 'stat' request now supports both open file handles as well 
as paths, enabling use of the ``--zip`` option; (5) dCache no longer logs a  stack trace when a client requests a file be 
created, the parent directory does not exist, and the make parent option is omitted; (6) a source path containing 
a query part on a mv request no longer causes the request to fail; (7) a potential race condition preventing directory
listing now is correctly handled; (8) support for the 'tpc' query on the pools has been added in order to comply with
the newer (4.9) XrootD clients; (9) it is now no longer necessary nor correct to list 'access-log' among the xrootd plugins; 
this log handler is added automatically as it is for other doors; (10) file handles and query strings are now included in
the access log information; (11) logging of failed authentication is improved to include more useful information, like
the DN; (12) it is now possible to identify all entries in the access-log from the same TCP connection via a session identifier.

### Zookeeper


### Changelog from 4.2.0 to 5.0.0

<!-- git log 4.2..5.0 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

(tbd as soon as the branching is done. 
In order to run the git log command given above, make sure that
- both branches are checked out and "git pull"ed in to make them local on your machine and
- replace the single dashes by double dashes on the command's parameters)



</div>
</div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" type="text/javascript"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
        integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js" type="text/javascript"></script>
