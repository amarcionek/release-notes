HTML header: <title>dCache 6.0 Release Notes</title>
             <!--#include virtual="/template/default-head.shtml" -->
             <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
             <!-- Bootstrap -->
             <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
                   integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>
             <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
                   integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous"/>
             <!--link type="text/css" rel="stylesheet" href="jquery.tocify.css" /-->
             <style type="text/css">
             h5 {
                 font-size: 15px;
                 font-style: italic;
                 margin-top: 20px;
             }
             body {
                 padding-top: 20px;
             }
             @media (max-width: 767px) {
                 #toc {
                     position: relative;
                     width: 100%;
                     margin: 0px 0px 20px 0px;
                 }
             }
             @media print {
                 #toc {
                     display: none;
                 }
             }
             </style>

<div class="container">
<div id="banner">
   <div id="bird_large">
      <img src="/images/dcache-banner.png" class="bird"></img>
   </div>
   <div id="sidebar-b">
      <span class="dcache-nav-bar">
      <a href="/index.shtml">home</a>
      |
      <a href="/news.shtml">news</a>
      |
      <a href="/manuals/index.shtml">documentation</a>
      |
      <a href="/downloads/IAgree.shtml">downloads</a>
      |
      <a href="/feedback.shtml">feedback</a>
      |
      <a href="/manuals/googlesearch.shtml">search</a>
      |
      <a href="/imprint.shtml">imprint&#160;</a>
      </span>
   </div>
</div>
<div id="content">

<div class="row">

<div class="page-header">
<h1>What's new in dCache 6.0<br/>
<small>Release notes</small></h1>
</div>

## Highlights

(tbd, this section uses markdown formatting)

## Incompatibilities

The 6.0 release breaks compatibility of pools with pre-6.0 `dcap` and `srm` doors.
However, the 6.0 doors will work with existing pre-6.0 pools.


## Acknowledgments

We would like to thank HTW-Berlin students David Linke, Lilit Patzwaldt-Sergoyan, Marcel Waldau,
Quentin Kuth, Sophie Schauer, Viktoriia Sulimenko, Vladimir Vilenchik, Johann Gillhoff and Dieter
Weber from FZ-JÃ¼lich for their contributions.

## Release 6.0.0

### Admin

### Alarms

### Billing

### Cells
fixed core domain discovery. Now on the zookeeper path `dcache/lm/cores-uri` is always used and the old
location `dcache/lm/cores` is for bakward compatibility only.

### Chimera

### DCAP
Remove `strict-size` control channel option that was required for legacy 'Pnfs'.

### Frontend

Admins may now configure frontend to specify in which country (or countries) data 
may be stored by using the property `frontend.geographic-placement`. The property
accept comma seperated list of ISO-3166 alpha-2 codes.


### FTP

### gplazma

### History

### Hoppingmanager

### httpd
Update old https admin pages legend to describe pool space usage.
Escape status field string in  `/poolInfo/restoreHandler/*` so that it is not
confused with html statement.

### Info

### Missing Files

### NFS
The nfs door will return error NO-SPACE when all pools are full. However, when a pool is not online yet
(disabled due to startup procedure), then client is instructed to try later.

Updated the underlying nfs code implementation.

NFS door will automatically re-try pool selection when all pool are off-line.

Added ability to query supported checksum types:

```
    cat ".(checksums)()"
```

Added ability to set file checksum(s) via dot command. This is useful for some
HSM clients. A regular user can only set one checksum (type, value) pair, and cannot
overwrite existing values. A root user is allowed to set multiple types
(successively) and also to overwrite values for any type.

```
    touch foo
    touch ".(fset)(foo)(checksum)(ADLER32)(ffffffff)"
```

Fix formatting of error message in Checksum.

### PNFS Manager

### Pool

Added control to modify behavior of the pool space sweeper. Normally, when a pool is 100% full,
the pool sweeper would remove just enough replicas to accomodate a new file. The variable has
been added to adjust the amount of space released by sweeper:

```
    pool.limits.sweeper-margin=0.0
```

meaning that if set different from 0.0 then that fraction of the total pool space will be released
when the pool is 100% full and it has to accept a new file replica. This behavior is designed to eliminate
continuous removal when writing (or staging) to pools that are always full to avoid disk thrashing at
the expense of slighly reduced replica lifetime. 0.0 means no change to existing behavior.


HSM flush queue can be set to behave as either LIFO
(last-in-first-out) or FIFO (first-in-first-out).  This can be done statically using
the property:

```
    (one-of?fifo|lifo)pool.flush-controller.queue-order=fifo
```

in the setup file:

```
    flush set queue order lifo
```

or by using the admin command itself:

```
   \s <pool-name> flush set queue order lifo
```


### Pool Manager
In situations when all pools with requested file are off-line "Pool unavailable" message logged as warning. Before
is was treated as a fatal error.


### Resilience

Added command to detect files all of whose replicas are on a given set of pools. Useful
to handle pool decomissioning.

```
   contained in
```
The argument to this command is a regular expression defining a set of
pools to check. Running that command over
the set of pools to be drained and removed will provide a list of
pnfsids for which some sort of manual action/migration will be necessary,
since they will be alarmed as 'inaccessible' by resilience.

Fixed remove count when replica is precious.


### Space Manager

### SRM / SRM Manager

### Statistics

### Topo

### Transfer Manager

### WebDAV

Option method request is now properly handled even if the site does not allow
anonymous operation.

A PUT request that targets an existing collection resource (a directory)
will now return the correct status code (405) instead of 500 Internal Error.

### XRootD

### Zookeeper


### Changelog from 5.2.0 to 6.0.0

<!-- git log 5.2..6.0 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

(tbd as soon as the branching is done.
In order to run the git log command given above, make sure that
- both branches are checked out and "git pull"ed in to make them local on your machine and
- you replace the single dashes by double dashes on the command's parameters)

</div>
</div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" type="text/javascript"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
        integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


